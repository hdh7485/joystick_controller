<launch>
    <include file="$(find mocap_optitrack)/launch/mocap_drone.launch" />

    <node pkg="rosserial_python" name="joystick_controller_teensy" type="serial_node.py" args="/dev/ttyACM0" />
    
    <node pkg="pid" name="joystick_pid" type="controller" output="screen" >
      <param name="Kp" value="-0.4"/>
      <param name="Ki" value="0.0" />
      <param name="Kd" value="-0.2" />
      <param name="upper_limit" value="1" />
      <param name="lower_limit" value="-1" />
      <param name="windup_limit" value="1" />
    </node>

    <node pkg="joystick_controller" name="hovering_pid" type="hovering_pid.py" output="screen" />

    <node pkg="rqt_plot" name="rqt_plot" type="rqt_plot" args="/control_effort" />

</launch>
